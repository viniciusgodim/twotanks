{"version":3,"sources":["components/DiscreteSlider.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","root","width","DiscreteSlider","setSize","defaultValue","size","text","max","min","step","classes","className","Typography","id","gutterBottom","Slider","getAriaValueText","aria-labelledby","parseFloat","marks","valueLabelDisplay","Tank","left","top","diameter","height","style","Layout","leftA","topA","diameterA","heightA","heightDiff","length","diameterB","heightB","liquidHeightA","liquidHeightB","velocity","reynolds","frictionFactor","pipeDiameter","time","Exit","Transmission","Input","liquidColor","borderColor","topEllipseA","cx","cy","rx","ry","theta","fillColor","fillOpacity","borderOpacity","borderSize","type","bottomEllipseA","liquidBulkA","x","y","topEllipseB","bottomEllipseB","data","position","container","opacity","xRange","yRange","Math","round","PI","toFixed","App","Chart","register","registerables","useState","setDiameterA","setDiameterB","setLength","setLiquidHeightA","setLiquidHeightB","setHeightDiff","setPipeDiameter","count","setCount","setTime","chartRef","React","createRef","newChart","setNewChart","myChartRef","finalVelocity","setFinalVelocity","finalFrictionFactor","setFinalFrictionFactor","finalReynolds","setFinalReynolds","useEffect","current","getContext","options","responsive","aspectRatio","scales","title","display","datasets","label","backgroundColor","dv","pxToMeter","pipeDiameterMeters","diameterAMeters","diameterBMeters","liquidHeightAMeters","liquidHeightBMeters","heightDiffMeters","lengthMeters","calcReynolds","v","calcFrictionFactor","re","log10","log","W","useInterval","velocityNew","abs","headLoss","sqrt","dh","push","update","prevDiameterARef","useRef","prevDiameterBRef","prevLiquidHeightARef","prevLiquidHeightBRef","prevDiameterA","prevDiameterB","prevLiquidHeightA","prevLiquidHeightB","Button","onClick","variant","color","ref","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5126a770.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\n\nconst useStyles = makeStyles({\n  root: {\n    width: 300,\n  },\n});\n\n\nexport default function DiscreteSlider({setSize,size,defaultValue,text,max,min,step}) {\n  const classes = useStyles();\n  function valuetext(size) {\n    return setSize(size);\n  }\n  return (\n    <div className={classes.root}>\n      <Typography id=\"discrete-slider-small-steps\" gutterBottom>\n        {text}\n      </Typography>\n      <br/>\n      <Slider className=\"slider\"\n        defaultValue={defaultValue}\n        getAriaValueText={valuetext}\n        aria-labelledby=\"discrete-slider-small-steps\"\n        step={parseFloat(step)}\n        marks\n        min={parseFloat(min)}\n        max={parseFloat(max)}\n        valueLabelDisplay=\"on\"\n      />\n    </div>\n  );\n}\n","import './App.css';\nimport {useState,useEffect,useRef} from 'react';\nimport DiscreteSlider from './components/DiscreteSlider'\nimport useInterval from '@use-it/interval';\nimport W from 'lambert-w-function'\nimport Button from '@material-ui/core/Button';\nimport { Chart, registerables } from 'chart.js';\nimport React, { Component } from 'react'\nimport BareMinimum2d from 'bare-minimum-2d'\n\n\nfunction Tank({left,top,diameter,height}) {\n  return (\n    <>\n    <div className=\"verticalLine\"\n      style={{left:left,top:top,height:height}}/>\n    <div className=\"verticalLine\"\n      style={{left:`calc(${left} + ${diameter})`,top:top,height:height}}/>\n    <div className=\"horizontalLine\"\n      style={{left:left,width:diameter,top:`calc(${top} + ${height})`}} />\n    </>\n  )\n}\n\nfunction Layout({leftA,topA,diameterA,heightA,heightDiff,length,diameterB,heightB,liquidHeightA,liquidHeightB,velocity,reynolds,frictionFactor,pipeDiameter,time}){\n  function Exit(){\n    return(\n      <div className=\"verticalLine\"\n      style={{left:`calc(${leftA} + ${diameterA}/2)`,\n              top:`calc(${topA} + ${heightA})`,\n              height:`calc((${heightDiff}/2`}}\n      />\n    )\n  }\n\n  function Transmission(){\n    return(\n      <div className=\"horizontalLine\"\n      style={{left:`calc(${leftA} + ${diameterA}/2)`,\n              top:`calc(${topA} + ${heightA} + ${heightDiff}/2)`,\n              width: `calc(${length} - ${heightDiff})`}}\n      />\n    )\n  }\n\n  function Input(){\n    return(\n      <div className=\"verticalLine\"\n      style={{left:`calc(${leftA} + ${diameterA}/2 + ${length} - ${heightDiff})`,\n              top:`calc(${topA} + ${heightA} + ${heightDiff}/2)`,\n              height:`calc(${heightDiff}/2)`}}\n      />\n    )\n  }\n\n  // function DrainingLiquid(){\n  //   return(\n  //     <div className=\"liquid\"\n  //     style={{left:leftA,\n  //             top:`calc(${topA} + ${heightA} - ${liquidHeightA})`,\n  //             height:liquidHeightA,\n  //             width:diameterA\n  //           }}\n  //     />\n  //   )\n  // }\n\n  // function FillingLiquid(){\n  //   return(\n  //     <div className=\"liquid\"\n  //     style={{left:`calc(${leftA} + ${diameterA}/2 + ${length} - ${heightDiff} - ${diameterB}/2)`,\n  //             top:`calc(-${liquidHeightB} + ${heightB} + ${topA} +  ${heightA} + ${heightDiff})`,\n  //             height:liquidHeightB,\n  //             width:diameterB\n  //           }}\n  //     />\n  //   )\n  // }\n\n  const container = {\n    opacity: 0,\n    xRange: 1500,\n    yRange: 1500\n  }\n\n  const liquidColor = 'CornflowerBlue'\n  const borderColor = 'DarkCyan'\n\n  const topEllipseA = {\n    cx: -750 + parseFloat(leftA) + parseFloat(diameterA)/2,\n    cy: 750 - parseFloat(topA) - parseFloat(heightA) + parseFloat(liquidHeightA),\n    rx: parseFloat(diameterA)/2,\n    ry: 20,\n    theta: 0,\n    fillColor: liquidColor,\n    fillOpacity: 1,\n    borderColor: borderColor,\n    borderOpacity: 0.5,\n    borderSize: 5,\n    type: 'ellipse',\n    id: 'topEllipse'\n  }\n\n  const bottomEllipseA = {\n    cx: -750 + parseFloat(leftA) + parseFloat(diameterA)/2,\n    cy: 750 - parseFloat(topA) - parseFloat(heightA),\n    rx: parseFloat(diameterA)/2,\n    ry: 20,\n    theta: 0,\n    fillColor: liquidColor,\n    fillOpacity: 1,\n    borderColor: borderColor,\n    borderOpacity: 0.5,\n    borderSize: 5,\n    type: 'ellipse',\n    id: 'bottomEllipse'\n  }\n\n  const liquidBulkA = {\n    x: [-750 + parseFloat(leftA),\n          -750 + parseFloat(leftA) + parseFloat(diameterA),\n          -750 + parseFloat(leftA) + parseFloat(diameterA),\n          -750 + parseFloat(leftA)\n        ],\n    y: [750 - parseFloat(topA) - parseFloat(heightA) + parseFloat(liquidHeightA),\n        750 - parseFloat(topA) - parseFloat(heightA) + parseFloat(liquidHeightA),\n        750 - parseFloat(topA) - parseFloat(heightA),\n        750 - parseFloat(topA) - parseFloat(heightA)\n      ],\n    fillColor: liquidColor,\n    fillOpacity: 1,\n    type: 'polygon',\n    id:'liquidBulk'\n  }\n\n  const topEllipseB = {\n    cx: -750 + parseFloat(leftA) + + parseFloat(diameterA)/2 +\n              + parseFloat(length) - parseFloat(heightDiff),\n    cy: 750 - parseFloat(topA) - parseFloat(heightA) - parseFloat(heightDiff) - parseFloat(heightB) + parseFloat(liquidHeightB),\n    rx: parseFloat(diameterB)/2,\n    ry: 20,\n    theta: 0,\n    fillColor: liquidColor,\n    fillOpacity: 1,\n    borderColor: borderColor,\n    borderOpacity: 0.5,\n    borderSize: 5,\n    type: 'ellipse',\n    id: 'topEllipse'\n  }\n\n  const bottomEllipseB = {\n    cx: -750 + parseFloat(leftA) + + parseFloat(diameterA)/2 +\n              + parseFloat(length) - parseFloat(heightDiff),\n    cy: 750 - parseFloat(topA) - parseFloat(heightA) - parseFloat(heightDiff) - parseFloat(heightB),\n    rx: parseFloat(diameterB)/2,\n    ry: 20,\n    theta: 0,\n    fillColor: liquidColor,\n    fillOpacity: 1,\n    borderColor: borderColor,\n    borderOpacity: 0.5,\n    borderSize: 5,\n    type: 'ellipse',\n    id: 'topEllipse'\n  }\n\n  const liquidBulkB = {\n    x: [-750 + parseFloat(leftA) + parseFloat(diameterA)/2 +\n              + parseFloat(length) - parseFloat(heightDiff) - parseFloat(diameterB)/2,\n        -750 + parseFloat(leftA) + parseFloat(diameterA)/2 +\n              + parseFloat(length) - parseFloat(heightDiff) - parseFloat(diameterB)/2,\n        -750 + parseFloat(leftA) + parseFloat(diameterA)/2 +\n              + parseFloat(length) - parseFloat(heightDiff) + parseFloat(diameterB)/2,\n        -750 + parseFloat(leftA) + parseFloat(diameterA)/2 +\n              + parseFloat(length) - parseFloat(heightDiff) + parseFloat(diameterB)/2\n        ],\n    y: [750 - parseFloat(topA) - parseFloat(heightA) - parseFloat(heightDiff) - parseFloat(heightB),\n      750 - parseFloat(topA) - parseFloat(heightA) - parseFloat(heightDiff) - parseFloat(heightB)+parseFloat(liquidHeightB),\n      750 - parseFloat(topA) - parseFloat(heightA) - parseFloat(heightDiff) - parseFloat(heightB)+parseFloat(liquidHeightB),\n      750 - parseFloat(topA) - parseFloat(heightA) - parseFloat(heightDiff) - parseFloat(heightB)\n    ],\n  fillColor: liquidColor,\n  fillOpacity: 1,\n  type: 'polygon',\n  id:'liquidBulk'\n  }\n\n  const data = [liquidBulkA,topEllipseA,bottomEllipseA,liquidBulkB,topEllipseB,bottomEllipseB]\n\n  return(\n    <>\n    <div style={{position: \"absolute\", top: 0, width: \"1500px\", height: \"1500px\"}}>\n      <BareMinimum2d data={data} container={container} />\n    </div>\n\n    <div className=\"score\" style={{left:`calc(${leftA} + ${diameterA}/2)`,\n      top:topA\n    }}>\n    V = {Math.round(parseFloat(diameterA)**2/4*parseFloat(liquidHeightA)*Math.PI)/1e6 + \" m3\"}\n    </div>\n\n    <div className=\"score\" style={{left:`calc(${leftA} + ${diameterA}/2 + ${length}/2 - ${heightDiff}/2)`,\n    top:`calc(${topA} + ${heightA} + ${heightDiff}/2 - 50px)`\n    }}>\n    v = {velocity.toFixed(3)} m/s\n    <br/>\n    q = {(velocity*Math.PI*pipeDiameter**2/4*750).toFixed(3)} L/s\n    <br/>\n    Re = {reynolds.toFixed(0)}\n    <br/>\n    f = {frictionFactor.toFixed(5)}\n    </div>\n\n    <div className=\"score\" style={{left:`calc(${leftA} + ${diameterA}/2 + ${length}/2 - ${heightDiff}/2)`,\n    top:`calc(${topA} + ${heightA} + ${heightDiff}/2 - 250px)`\n    }}>\n    time = {time} s\n    </div>\n\n    <div className=\"score\" style={{left:`calc(${leftA} + ${diameterA}/2 + ${length} - ${heightDiff})`,\n    top:`calc(${topA} + ${heightA} + ${heightDiff})`\n    }}>\n    V = {Math.round(parseFloat(diameterB)**2/4*parseFloat(liquidHeightB)*Math.PI)/1e6 + \" m3\"}\n    </div>\n\n    <Tank left={leftA} top={topA} diameter={diameterA} height={heightA}/>\n    <Exit/>\n    <Transmission/>\n    <Input/>\n    <Tank left={`calc(${leftA} + ${diameterA}/2 + ${length} - ${heightDiff} - ${diameterB}/2)`}\n          top={`calc(${topA} + ${heightA} + ${heightDiff})`}\n          diameter={diameterB}\n          height={heightB}\n    />\n    </>\n  )\n}\n\nfunction App() {\n  Chart.register(...registerables);\n  let [diameterA,setDiameterA] = useState(0);\n  let [diameterB,setDiameterB] = useState(0);\n  let [length,setLength] = useState(0);\n  let [liquidHeightA,setLiquidHeightA] = useState(150);\n  let [liquidHeightB,setLiquidHeightB] = useState(0);\n  let [heightDiff,setHeightDiff] = useState(0);\n  let [pipeDiameter,setPipeDiameter] = useState(0);\n  let [count,setCount] = useState(0);\n  let [time,setTime] = useState(0);\n  const chartRef = React.createRef();\n  let [newChart,setNewChart] = useState(React.createRef());\n  let [myChartRef,setMyChartRef] = useState(0);\n  let [finalVelocity,setFinalVelocity] = useState(1);\n  let [finalFrictionFactor,setFinalFrictionFactor] = useState(0);\n  let [finalReynolds,setFinalReynolds] = useState(0);\n\n  useEffect(() => {\n    if(liquidHeightA <= 0){\n      setCount(0);\n    }\n  });\n  useEffect(() => {\n    myChartRef = chartRef.current.getContext(\"2d\");\n    setNewChart(new Chart(myChartRef,{\n            type: 'scatter',\n            options: {\n              responsive: true,\n              aspectRatio: 2,\n              scales: {\n                x: {\n                  title: {\n                    display: true,\n                    text: 'Time (s)'\n                  }\n                },\n                y: {\n                  title: {\n                    display: true,\n                    text: 'Height (m)'\n                  }\n                },\n              }\n            },\n            data: {\n              datasets: [{\n                label: 'Height versus time',\n                data: [],\n                backgroundColor: 'rgb(255, 99, 132)'\n              }],\n            }\n        }));\n  },[])\n\n  const pxToMeter = 1/100\n  const viscosity = 1e-3;\n  const density = 1e3;\n  const gravity = 9.8;\n  const dt = 5;\n  let pipeDiameterMeters = pipeDiameter*pxToMeter;\n  let diameterAMeters = diameterA*pxToMeter;\n  let diameterBMeters = diameterB*pxToMeter;\n  let liquidHeightAMeters = liquidHeightA*pxToMeter;\n  let liquidHeightBMeters = liquidHeightB*pxToMeter;\n  let heightDiffMeters = heightDiff*pxToMeter;\n  let lengthMeters = length*pxToMeter\n  let dv;\n  function InitiateCount(){\n    setCount(1);\n  }\n\n  function calcReynolds(v){\n    return v*pipeDiameterMeters*density/viscosity\n  }\n\n  function calcFrictionFactor(re){\n    if (re < 2100) {\n      return 64/re\n    } else {\n      return 1/((-2*Math.log10(10**(-1/Math.log(10)*W(re*Math.log(10)/5.02))))**2)\n    }\n  }\n  useInterval(() => {\n    if (count > 0){\n      let velocity = finalVelocity;\n      let velocityNew;\n      dv = 1;\n      while(Math.abs(dv/velocity) > 1e-3){\n        let reynolds = calcReynolds(velocity)\n        let frictionFactor = calcFrictionFactor(reynolds)\n        let headLoss = frictionFactor*velocity**2/(2*gravity)*lengthMeters/pipeDiameterMeters\n        if (liquidHeightAMeters+heightDiffMeters>headLoss){\n          velocityNew = Math.sqrt(2*gravity*(liquidHeightAMeters+heightDiffMeters-headLoss)/(1-(pipeDiameterMeters/diameterAMeters)**4))\n        } else{\n          velocityNew = velocity*0.75\n        }\n        dv = velocity - velocityNew;\n        velocity = velocityNew\n      }\n      setTime(time+dt);\n      setFinalVelocity(velocity);\n      setFinalReynolds(calcReynolds(finalVelocity));\n      setFinalFrictionFactor(calcFrictionFactor(finalReynolds));\n\n      let dh = dt*velocity*(pipeDiameterMeters/diameterAMeters)**2\n      liquidHeightAMeters -= dh;\n      liquidHeightBMeters += dh*(diameterAMeters/diameterBMeters)**2;\n      newChart.data.datasets[0].data.push({x:time,y:liquidHeightAMeters});\n      newChart.update();\n      setLiquidHeightA(liquidHeightAMeters/pxToMeter);\n      setLiquidHeightB(liquidHeightBMeters/pxToMeter);\n    }}, 100);\n\n  let prevDiameterARef = useRef();\n  let prevDiameterBRef = useRef();\n  let prevLiquidHeightARef = useRef();\n  let prevLiquidHeightBRef = useRef();\n\n  useEffect(() => {\n    prevDiameterARef.current = diameterA;\n    prevDiameterBRef.current = diameterB;\n    prevLiquidHeightARef.current = liquidHeightA;\n    prevLiquidHeightBRef.current = liquidHeightB;\n  });\n\n  let prevDiameterA = prevDiameterARef.current;\n  let prevDiameterB = prevDiameterBRef.current;\n  let prevLiquidHeightA = prevLiquidHeightARef.current;\n  let prevLiquidHeightB = prevLiquidHeightBRef.current;\n\n  useEffect(() => {\n    if(count > 0){\n      setLiquidHeightA(prevLiquidHeightA*(prevDiameterA/diameterA)**2)\n      setLiquidHeightB(prevLiquidHeightB*(prevDiameterB/diameterB)**2);\n    }\n  },[diameterA,diameterB]);\n\n  return (\n    <>\n    <Layout leftA=\"350px\" topA=\"100px\"\n            diameterA={diameterA+\"px\"} heightA=\"250px\"\n            diameterB={diameterB+\"px\"} heightB=\"200px\"\n            heightDiff={heightDiff+\"px\"} length={length+\"px\"}\n            liquidHeightA={liquidHeightA+\"px\"}\n            liquidHeightB={liquidHeightB+\"px\"}\n            velocity={finalVelocity}\n            frictionFactor={finalFrictionFactor}\n            reynolds={finalReynolds}\n            pipeDiameter={pipeDiameterMeters}\n            time={time}\n            />\n    <div id=\"sliderWrapper\">\n    <DiscreteSlider setSize={setDiameterA} size={diameterA} defaultValue=\"250\" text=\"Draining tank diameter (cm)\" min=\"50\" max=\"500\" step=\"10\"/>\n    <DiscreteSlider setSize={setDiameterB} size={diameterB} defaultValue=\"250\" text=\"Filling tank diameter (cm)\" min=\"50\" max=\"500\" step=\"10\"/>\n    <DiscreteSlider setSize={setLength} size={length} defaultValue=\"750\" text=\"Pipe length (cm)\" min=\"50\" max=\"1000\" step=\"25\"/>\n    <DiscreteSlider setSize={setHeightDiff} size={heightDiff} defaultValue=\"200\" text=\"Height difference (cm)\" min=\"0\" max=\"500\" step=\"10\"/>\n    <DiscreteSlider setSize={setPipeDiameter} size={pipeDiameter} defaultValue=\"2.5\" text=\"Pipe diameter (cm)\" min=\"0.5\" max=\"3.5\" step=\"0.1\"/>\n    </div>\n    <Button id=\"runButton\" onClick={InitiateCount} variant=\"contained\" color=\"primary\">\n          Run simulation\n    </Button>\n    <div id=\"chartWrapper\">\n    <canvas id=\"myChart\" ref={chartRef}></canvas>\n    </div>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}